### 一、什么是 sisdb ?

---

sisdb是一个完全开源的使用ANSI C语言编写、支持本地文件、网络、内存、数据可持久化的时序数据集；

sisdb具备部署简单、低延迟、数据格式丰富、多数据表流式回放等特点；

设计初衷是为了满足证券行情的大流量数据的采集、因子数据存取、人工智能算法的数据支持；

### 二、sisdb 的特点

1. 采用websocket协议格式，可以方便的为Web前端提供数据支持；
2. 生产环境和开发环境对数据格式要求的不同，对于开发者来说最好的情况是开发阶段用json格式做数据交互；进入生产环境使用压缩的二进制数据流；这样即保证了开发的效率，同时可以平滑切换到安全可靠的生产环境, 主要支持csv格式、sno格式、map格式、log格式等数据存储格式；
3. 越来越多的跨平台开发需求，使得目前跨系统的前端通常以WEB应用为主；sisdb直接提供了websocket标准通讯协议来提供数据支持，使得针对跨平台的客户端数据支持有先天的优势；
4. sisdb 是专门为有价证券体系开发的一款高性能、安全、便捷的时序结构化数据库；sisdb针对有价证券的行情和交易数据进行优化存取，不仅支持二进制结构化数据流，而且还支持 json、csv 数据格式的输入和输出，便于用户分析数据；
5. sisdb提供插件式功能扩展，便于二次开发，很方便的实现庞大的系统级程序；
6. 支持单键单表数据获取，多键多表数据订阅；


### 三、开始使用 sisdb

#### 3.1 下载并安装sisdb

```shell
    git clone  https://github.com/coollyer/sisdb.git
    cd sisdb/bin
    make
```

#### 3.2 运行sisdb

```shell
    ./sisdb -f sisdb-server.conf 
```

#### 3.3 运行范例数据的客户端

```shell
    cd sisdb/
    git clone  https://github.com/coollyer/wclient.git
    cd wclient
    npm run start
```

### 四、sisdb 说明

#### 4.1 目录说明

   bin - 输出文件、配置文件等

   client - 客户端访问数据库的例子

   mock - 范例数据文件存放位置
 
   sdk - 第三方库

   src - 源码

   workers - 所有的插件目录

#### 4.2 主配置文件

sisdb-rserver.conf  -- 作为独立服务时使用的配置文件
主要配置文件
详见配置文件中说明

#### 4.3 数据结构字段说明

   | 字段名     | 数据类型 | 长度 | 数量 | 小数点 | 字段约束 | 
   | :---      | :----: | :----: | :----: | :----: | :----: |
   | 字符串     | 参考数据类型定义 | 字段长度 | 默认为1 | 默认为0 | I 为索引 O 为唯一 | 

#### 4.4 数据类型说明
| 数据类型标志 | 类型说明 | 字节说明 | 备注 |
| :---:     | :----: | :----: | :---- |
|  T   |毫秒      | 8       | 1630906080840  |
|  S   |秒        |4、8     | 1630906080|
|  M   |分钟      |4        | 27181768 |
|  D   |天        |4        | 20100101|
|  I   |整数      |1、2、4、8| -1234|
|  U   |无符号整数 |1、2、4、8| 1234|
|  C   |字符型     |1..N     | SH600600 |
|  F   |浮点数     |4、8     | 1234.56|
|  P   |整数      |4、8     | 1234.56|
   
